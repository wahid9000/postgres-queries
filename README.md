# PostgreSQL-ржП Primary Key ржПржмржВ Foreign Key ржмрзНржпрж╛ржЦрзНржпрж╛

## Primary Key ржХрзА?

**Primary Key** рж╣рж▓рзЛ ржПржоржи ржПржХржЯрж┐ ржХрж▓рж╛ржо ржмрж╛ ржХрж▓рж╛ржорзЗрж░ ржХржорзНржмрж┐ржирзЗрж╢ржи ржпрж╛ ржПржХржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржкрзНрж░рждрж┐ржЯрж┐ рж░рзЗржХрж░рзНржбржХрзЗ ржЗржЙржирж┐ржХрж▓рж┐ рж╕ржирж╛ржХрзНржд ржХрж░рзЗред  

ржкрзНрж░рждрж┐ржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗ рж╢рзБржзрзБржорж╛рждрзНрж░ **ржПржХржЯрж┐ Primary Key** ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗ ржПржмржВ ржПржЗ ржлрж┐рж▓рзНржбрзЗрж░ ржорж╛ржи ржХржЦржирзЛ `NULL` рж╣рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛ ржПржмржВ ржЕржмрж╢рзНржпржЗ ржЗржЙржирж┐ржХ рж╣рждрзЗ рж╣ржмрзЗред

### ЁЯУЭ ржЙржжрж╛рж╣рж░ржг:

```sql
CREATE TABLE students (
    student_id SERIAL PRIMARY KEY,
    name VARCHAR(100),
    age INT
);
```

ржПржЦрж╛ржирзЗ `student_id` ржХрж▓рж╛ржоржЯрж┐ Primary Key рж╣рж┐рж╕рзЗржмрзЗ рж╕рзЗржЯ ржХрж░рж╛ рж╣ржпрж╝рзЗржЫрзЗ, ржпрж╛ ржкрзНрж░рждрж┐ржЯрж┐ рж╕рзНржЯрзБржбрзЗржирзНржЯрзЗрж░ ржЬржирзНржп ржЗржЙржирж┐ржХ ржЖржЗржбрж┐ рждрзИрж░рж┐ ржХрж░ржмрзЗред

---

## Foreign Key ржХрзА?

**Foreign Key** рж╣рж▓рзЛ ржПржоржи ржПржХржЯрж┐ ржХрж▓рж╛ржо ржмрж╛ ржХрж▓рж╛ржорзЗрж░ рж╕рзЗржЯ ржпрж╛ ржЕржирзНржп ржЯрзЗржмрж┐рж▓рзЗрж░ **Primary Key**-ржПрж░ рж╕рж╛ржерзЗ рж▓рж┐ржВржХ ржХрж░рзЗред  

ржПржЯрж┐ ржжрзБржЗржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржоржзрзНржпрзЗ рж╕ржорзНржкрж░рзНржХ (relation) рждрзИрж░рж┐ ржХрж░рждрзЗ ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝ред Foreign Key ржХрж▓рж╛ржоржЯрж┐ рж╕рзЗржЗ ржорж╛ржиржЧрзБрж▓рзЛржЗ ржЧрзНрж░рж╣ржг ржХрж░ржмрзЗ ржпрж╛ parent ржЯрзЗржмрж┐рж▓рзЗрж░ Primary Key-рждрзЗ ржмрж┐ржжрзНржпржорж╛ржиред  

### ржЙржжрж╛рж╣рж░ржг:

```sql
CREATE TABLE courses (
    course_id SERIAL PRIMARY KEY,
    course_name VARCHAR(100)
);

CREATE TABLE enrollments (
    enrollment_id SERIAL PRIMARY KEY,
    student_id INT,
    course_id INT,
    FOREIGN KEY (student_id) REFERENCES students(student_id),
    FOREIGN KEY (course_id) REFERENCES courses(course_id)
);
```

ржПржЦрж╛ржирзЗ `enrollments` ржЯрзЗржмрж┐рж▓рзЗрж░ `student_id` ржПржмржВ `course_id` ржХрж▓рж╛ржоржЧрзБрж▓рзЛ ржпржерж╛ржХрзНрж░ржорзЗ `students` ржПржмржВ `courses` ржЯрзЗржмрж┐рж▓рзЗрж░ Primary Key-ржПрж░ рж╕рж╛ржерзЗ рж╕ржорзНржкрж░рзНржХрж┐рждред  

---

# PostgreSQL-ржП VARCHAR ржПржмржВ CHAR ржбрзЗржЯрж╛ ржЯрж╛ржЗржкрзЗрж░ ржкрж╛рж░рзНржержХрзНржп

## VARCHAR ржХрж┐?

**VARCHAR (Variable Character)** рж╣рж▓рзЛ ржПржХржЯрж┐ ржбрзЗржЯрж╛ ржЯрж╛ржЗржк, ржпрзЗржЦрж╛ржирзЗ ржпржд ржЕржХрзНрж╖рж░ ржжрзЗржпрж╝рж╛ рж╣ржмрзЗ рж╢рзБржзрзБ рж╕рзЗржЯрзБржХрзБ рж╕рзНржЯрзЛрж░ ржХрж░ржмрзЗ ржПржмржВ ржЕржмрж╢рж┐рж╖рзНржЯ ржЕржВрж╢рзЗрж░ ржЬржирзНржп ржХрзЛржирзЛ ржЕрждрж┐рж░рж┐ржХрзНржд рж╕рзНржкрзЗрж╕ ржирж╖рзНржЯ ржХрж░ржмрзЗ ржирж╛ред  

### ржЙржжрж╛рж╣рж░ржг:

```sql
CREATE TABLE employees (
    name VARCHAR(50)
);
```

ржПржЦрж╛ржирзЗ `name` ржХрж▓рж╛ржорзЗ рж╕рж░рзНржмрзЛржЪрзНржЪ рзлрзж ржЕржХрзНрж╖рж░рзЗрж░ ржнрзНржпрж╛рж▓рзБ рж░рж╛ржЦрж╛ ржпрж╛ржмрзЗред рзйрзж ржЕржХрзНрж╖рж░ ржжрж┐рж▓рзЗ рзйрзж-ржЗ рж╕рзНржЯрзЛрж░ рж╣ржмрзЗ, ржмрж╛ржХрж┐ рзирзж ржПрж░ ржЬржирзНржп рж╕рзНржкрзЗрж╕ ржирж╖рзНржЯ рж╣ржмрзЗ ржирж╛ред

---

## CHAR ржХрж┐?

**CHAR (Character)** рж╣рж▓рзЛ ржПржХржЯрж┐ Fixed-length ржбрзЗржЯрж╛ ржЯрж╛ржЗржк ржпрзЗржЦрж╛ржирзЗ ржпржжрж┐ ржХржо ржЕржХрзНрж╖рж░рзЗрж░ ржнрзНржпрж╛рж▓рзБ ржжрзЗржпрж╝рж╛ рж╣ржпрж╝, рждрж╛рж╣рж▓рзЗ ржЕржмрж╢рж┐рж╖рзНржЯ ржЕржВрж╢ рж╕рзНржкрзЗрж╕ (whitespace) ржжрж┐ржпрж╝рзЗ ржкрзВрж░ржг ржХрж░ржмрзЗред

### ржЙржжрж╛рж╣рж░ржг:

```sql
CREATE TABLE products (
    product_code CHAR(10)
);
```

ржПржЦрж╛ржирзЗ `product_code` ржХрж▓рж╛ржорзЗ рззрзж ржЕржХрзНрж╖рж░рзЗрж░ ржХржо ржХрж┐ржЫрзБ ржЗржирж╕рж╛рж░рзНржЯ ржХрж░рж▓рзЗ ржЕржмрж╢рж┐рж╖рзНржЯ ржЕржВрж╢ ржЕржЯрзЛржорзЗржЯрж┐ржХ рж╕рзНржкрзЗрж╕ ржжрж┐ржпрж╝рзЗ ржкрзВрж░ржг ржХрж░ржмрзЗред

---

# LIMIT ржПржмржВ OFFSET ржХрзА ржЬржирзНржп ржмрзНржпржмрж╣рзГржд рж╣ржпрж╝?

SQL-ржП `SELECT` рж╕рзНржЯрзЗржЯржорзЗржирзНржЯрзЗрж░ рж╕рж╛ржерзЗ ржХрж╛ржЬ ржХрж░рж╛рж░ рж╕ржоржпрж╝, **LIMIT** ржПржмржВ **OFFSET** ржХрзНрж▓ржЬ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ ржПржХржЯрж┐ ржХрзЛржпрж╝рзЗрж░рж┐ ржерзЗржХрзЗ ржХрждржЧрзБрж▓рзЛ рж░рзЗржХрж░рзНржб рж░рж┐ржЯрж╛рж░рзНржи рж╣ржмрзЗ рждрж╛ ржирж┐ржпрж╝ржирзНрждрзНрж░ржг ржХрж░рж╛рж░ ржЬржирзНржпред

- **LIMIT** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ ржХрждржЧрзБрж▓рзЛ рж░рзЗржХрж░рзНржб ржлрзЗрж░ржд ржЖржиржмрзЗ рждрж╛ ржирж┐рж░рзНржзрж╛рж░ржг ржХрж░рж╛рж░ ржЬржирзНржпред
- **OFFSET** ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣ржпрж╝ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ рж╕ржВржЦрзНржпржХ рж░рзЗржХрж░рзНржб рж╕рзНржХрж┐ржк ржХрж░рж╛рж░ ржЬржирзНржп, рждрж╛рж░ржкрж░ рж░рзЗржЬрж╛рж▓рзНржЯ рж░рж┐ржЯрж╛рж░рзНржи рж╢рзБрж░рзБ ржХрж░рж╛рж░ ржЖржЧрзЗред

ржмржбрж╝ ржбрзЗржЯрж╛рж╕рзЗржЯ ржирж┐ржпрж╝рзЗ ржХрж╛ржЬ ржХрж░рж╛рж░ рж╕ржоржпрж╝ ржПржмржВ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржи-ржП **pagination** (ржкрзЗржЗржЬрж┐ржВ) ржЗржоржкрзНрж▓рж┐ржорзЗржирзНржЯ ржХрж░рж╛рж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ ржПржЗ ржХрзНрж▓ржЬржЧрзБрж▓рзЛ ржмрж┐рж╢рзЗрж╖ржнрж╛ржмрзЗ ржжрж░ржХрж╛рж░рж┐ред

---

## рж╕рж┐ржиржЯрзНржпрж╛ржХрзНрж╕

```sql
SELECT * FROM table_name
LIMIT number_of_rows
OFFSET number_of_rows_to_skip;
```

---

### ржЙржжрж╛рж╣рж░ржг: рзз

```sql
SELECT * FROM employees
LIMIT 2 OFFSET 2;
```

ржПржЗ ржХрзЛржпрж╝рзЗрж░рж┐ ржкрзНрж░ржержо ржжрзБржЗржЯрж┐ рж░рзЗржХрж░рзНржб рж╕рзНржХрж┐ржк ржХрж░рзЗ ржкрж░рзЗрж░ ржжрзБржЗржЯрж┐ рж░рзЗржХрж░рзНржб рж░рж┐ржЯрж╛рж░рзНржи ржХрж░ржмрзЗред

---

### ржЙржжрж╛рж╣рж░ржг: рзи (Pagination)

ржкрзНрж░ржержо ржкрзЗржЗржЬрзЗрж░ ржЬржирзНржп:

```sql
SELECT * FROM employees
ORDER BY employee_id
LIMIT 5 OFFSET (0 * 5);
```

ржПржЦрж╛ржирзЗ `0` рж╣ржЪрзНржЫрзЗ `current_page` ржПржмржВ `5` рж╣ржЪрзНржЫрзЗ ржкрзНрж░рждрж┐ ржкрзЗржЗржЬрзЗ ржжрзЗржЦрж╛ржирзЛрж░ рж░рзЗржХрж░рзНржб рж╕ржВржЦрзНржпрж╛ред

---

ржжрзНржмрж┐рждрзАржпрж╝ ржкрзЗржЗржЬрзЗрж░ ржЬржирзНржп:

```sql
SELECT * FROM employees
ORDER BY employee_id
LIMIT 5 OFFSET (1 * 5);
```

ржПржЦрж╛ржирзЗ `1` рж╣ржЪрзНржЫрзЗ `current_page` ржПржмржВ `5` рж╣ржЪрзНржЫрзЗ ржкрзНрж░рждрж┐ ржкрзЗржЗржЬрзЗ ржжрзЗржЦрж╛ржирзЛрж░ рж░рзЗржХрж░рзНржб рж╕ржВржЦрзНржпрж╛ред

---

рждрзГрждрзАржпрж╝ ржкрзЗржЗржЬрзЗрж░ ржЬржирзНржп:

```sql
SELECT * FROM employees
ORDER BY employee_id
LIMIT 5 OFFSET (2 * 5);
```

ржПржЦрж╛ржирзЗ `2` рж╣ржЪрзНржЫрзЗ `current_page` ржПржмржВ `5` рж╣ржЪрзНржЫрзЗ ржкрзНрж░рждрж┐ ржкрзЗржЗржЬрзЗ ржжрзЗржЦрж╛ржирзЛрж░ рж░рзЗржХрж░рзНржб рж╕ржВржЦрзНржпрж╛ред

---

## JOIN ржЕржкрж╛рж░рзЗрж╢ржирзЗрж░ ржЧрзБрж░рзБрждрзНржм ржПржмржВ PostgreSQL-ржП JOIN ржХрж┐ржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ ?

`JOIN` ржЕржкрж╛рж░рзЗрж╢ржиржЯрж┐ ржбрзЗржЯрж╛ржмрзЗржЗрж╕рзЗрж░ ржПржХрж╛ржзрж┐ржХ ржЯрзЗржмрж┐рж▓ ржерзЗржХрзЗ рж╕ржорзНржкрж░рзНржХрж┐ржд ржбрзЗржЯрж╛ ржПржХрждрзНрж░рзЗ ржПржирзЗ ржмрж┐рж╢рзНрж▓рзЗрж╖ржг ржХрж░рждрзЗ рж╕рж╛рж╣рж╛ржпрзНржп ржХрж░рзЗред ржкрзНрж░ржХрзГрждржкржХрзНрж╖рзЗ, ржЕржирзЗржХ ржХрзНрж╖рзЗрждрзНрж░рзЗржЗ ржбрзЗржЯрж╛ ржЖрж▓рж╛ржжрж╛ ржЖрж▓рж╛ржжрж╛ ржЯрзЗржмрж┐рж▓рзЗ рж░рж╛ржЦрж╛ рж╣рзЯ ржирж░рзНржорж╛рж▓рж╛ржЗржЬрзЗрж╢ржирзЗрж░ ржХрж╛рж░ржгрзЗред рждржЦржи `JOIN` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржорж░рж╛ ржкрзНрж░рзЯрзЛржЬржи ржЕржирзБржпрж╛рзЯрзА рж╕рзЗржЗ ржбрзЗржЯрж╛ржЧрзБрж▓рзЛржХрзЗ ржпрзБржХрзНржд ржХрж░рж┐ред

PostgreSQL-ржП ржмрж┐ржнрж┐ржирзНржи ржзрж░ржгрзЗрж░ JOIN рж░рзЯрзЗржЫрзЗ, ржпрзЗржоржи:

### 1. `INNER JOIN`

ржжрзБржЗржЯрж┐ ржЯрзЗржмрж┐рж▓рзЗрж░ ржоржзрзНржпрзЗ ржпрзЗрж╕ржм рж░рзЗржХрж░рзНржб ржорж┐рж▓рзЗ ржпрж╛рзЯ рж╢рзБржзрзБ рж╕рзЗржЗржЧрзБрж▓рзЛржЗ ржлрзЗрж░ржд ржжрзЗрзЯред

```sql
SELECT *
FROM students
INNER JOIN courses ON students.course_id = courses.id;
```

### 2. `LEFT JOIN` ржмрж╛ `LEFT OUTER JOIN`

ржмрж╛ржо ржкрж╛рж╢рзЗрж░ ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзЗржХрж░рзНржб ржжрзЗржЦрж╛рзЯ, ржЖрж░ ржбрж╛ржи ржкрж╛рж╢рзЗрж░ ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕рж╛ржерзЗ ржпрзЗржЧрзБрж▓рзЛ ржорж┐рж▓рзЗ ржпрж╛рзЯ рж╢рзБржзрзБ рж╕рзЗржЧрзБрж▓рзЛред

```sql
SELECT *
FROM students
LEFT JOIN courses ON students.course_id = courses.id;
```

### 3. `RIGHT JOIN` ржмрж╛ `RIGHT OUTER JOIN`

ржбрж╛ржи ржкрж╛рж╢рзЗрж░ ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзЗржХрж░рзНржб ржжрзЗржЦрж╛рзЯ, ржЖрж░ ржмрж╛ржо ржкрж╛рж╢рзЗрж░ рж╕рж╛ржерзЗ ржпрзЗржЧрзБрж▓рзЛ ржорж┐рж▓рзЗ ржпрж╛рзЯ рж╢рзБржзрзБ рж╕рзЗржЧрзБрж▓рзЛред

```sql
SELECT *
FROM students
RIGHT JOIN courses ON students.course_id = courses.id;
```

### 4. `FULL JOIN` ржмрж╛ `FULL OUTER JOIN`

ржжрзБржЗ ржкрж╛рж╢рзЗрж░ ржЯрзЗржмрж┐рж▓рзЗрж░ рж╕ржм рж░рзЗржХрж░рзНржб ржжрзЗржЦрж╛рзЯ, ржорж┐рж▓ ржерж╛ржХ ржмрж╛ ржирж╛ ржерж╛ржХред

```sql
SELECT *
FROM students
FULL JOIN courses ON students.course_id = courses.id;
```

---

## GROUP BY ржХрзА ржПржмржВ GROUP BY ржХрзНрж▓ржЬ ржПрж░ ржЧрзБрж░рзБрждрзНржм ред

`GROUP BY` рж╣рж▓рзЛ SQL-ржПрж░ ржПржХржЯрж┐ ржХрзНрж▓ржЬ, ржпрж╛ ржЯрзЗржмрж┐рж▓рзЗрж░ ржбрзЗржЯрж╛ржЧрзБрж▓рзЛ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржПржХржЯрж┐ ржмрж╛ ржПржХрж╛ржзрж┐ржХ ржХрж▓рж╛ржорзЗрж░ ржорж╛ржи ржЕржирзБржпрж╛рзЯрзА ржЧрзНрж░рзБржк ржХрж░рзЗред ржПржЯрж┐ рж╕рж╛ржзрж╛рж░ржгржд **aggregation function** (ржпрзЗржоржи: COUNT, SUM, AVG, MAX, MIN) ржПрж░ рж╕рж╛ржерзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ рж╣рзЯред

`GROUP BY` ржХрзНрж▓ржЬ SELECT рж╕рзНржЯрзЗржЯржорзЗржирзНржЯрзЗ ржмрзНржпржмрж╣рзГржд рж╣рзЯред ржПржЯрж┐ ржбрзЗржЯрж╛ржХрзЗ ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржХрж▓рж╛ржорзЗрж░ ржнрж┐рждрзНрждрж┐рждрзЗ ржнрж╛ржЧ ржХрж░рзЗ ржПржмржВ ржкрзНрж░рждрж┐ржЯрж┐ ржЧрзНрж░рзБржкрзЗрж░ ржЙржкрж░ Aggregation Function ржкрзНрж░рзЯрзЛржЧ ржХрж░рзЗред

## ржЙржжрж╛рж╣рж░ржг

ржзрж░рж┐ ржЖржорж╛ржжрзЗрж░ ржХрж╛ржЫрзЗ ржПржХржЯрж┐ `orders` ржЯрзЗржмрж┐рж▓ ржЖржЫрзЗ:

| order_id | customer_name | amount |
|----------|----------------|--------|
| 1        | Wahid          | 500    |
| 2        | Zahid          | 200    |
| 3        | Wahid          | 300    |

### ржЙржжрж╛рж╣рж░ржг рзз: ржЧрзНрж░рж╛рж╣ржХ ржЕржирзБржпрж╛рзЯрзА ржорзЛржЯ ржЕрж░рзНржбрж╛рж░рзЗрж░ ржкрж░рж┐ржорж╛ржг

```sql
SELECT customer_name, SUM(amount)
FROM orders
GROUP BY customer_name;
```

ржлрж▓рж╛ржлрж▓:

| customer_name | sum  |
|----------------|------|
| Wahid          | 800  |
| Zahid          | 200  |
